<div class="container mt-4">
  <h2>Seller Dashboard</h2>
  
  <button class="btn btn-primary mb-3" (click)="showForm = !showForm">
    {{ showForm ? 'Cancel' : 'Add New Product' }}
  </button>

  <!-- Add Product Form -->
  <div *ngIf="showForm" class="card mb-4">
    <div class="card-body">
      <h5>Add New Product</h5>
      <form (ngSubmit)="addProduct()">
        <div class="mb-3">
          <label class="form-label">Name</label>
          <input type="text" class="form-control" [(ngModel)]="newProduct.name" name="name" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Description</label>
          <textarea class="form-control" [(ngModel)]="newProduct.description" name="description" required></textarea>
        </div>
        <div class="mb-3">
          <label class="form-label">Price</label>
          <input type="number" class="form-control" [(ngModel)]="newProduct.price" name="price" required>
        </div>
        <button type="submit" class="btn btn-success">Add Product</button>
      </form>
    </div>
  </div>

  <!-- Products List -->
  <h4>My Products</h4>
  <div class="row">
    <div class="col-md-4 mb-3" *ngFor="let product of products">
      <div class="card">
        <div class="card-body">
          <!-- Edit Mode -->
          <div *ngIf="editingProduct?.id === product.id">
            <input type="text" class="form-control mb-2" [(ngModel)]="editingProduct!.name">
            <textarea class="form-control mb-2" [(ngModel)]="editingProduct!.description"></textarea>
            <input type="number" class="form-control mb-2" [(ngModel)]="editingProduct!.price">
            <button class="btn btn-success btn-sm me-2" (click)="updateProduct()">Save</button>
            <button class="btn btn-secondary btn-sm" (click)="cancelEdit()">Cancel</button>
          </div>
          
          <!-- View Mode -->
          <div *ngIf="editingProduct?.id !== product.id">
            <h5 class="card-title">{{ product.name }}</h5>
            <p class="card-text">{{ product.description }}</p>
            <p class="card-text"><strong>${{ product.price }}</strong></p>
            <button class="btn btn-warning btn-sm me-2" (click)="editProduct(product)">Edit</button>
            <button class="btn btn-danger btn-sm" (click)="deleteProduct(product.id)">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="products.length === 0" class="alert alert-info">
    You haven't created any products yet. Click "Add New Product" to get started!
  </div>
</div>